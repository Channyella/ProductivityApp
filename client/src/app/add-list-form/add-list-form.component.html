<div class="register-container">
    <form #registerForm="ngForm" autocomplete="off">
        <h2 class="text-center text-white">Sign Up</h2>
        <br>
        <!-- Title -->
        <div class="mb-3 form-floating">
            <input type="text" 
                id="title"
                name="title" 
                [(ngModel)]="model.title" 
                class="form-control me-2"
                placeholder="Title" 
                #title="ngModel"
                [ngClass]="{'is-invalid': title.invalid && (title.dirty || title.touched) }" 
                required>
            <label>Title:</label>
            <div *ngIf="title.invalid && title.touched" class="text-white">
                <small *ngIf="title.errors?.['required']">Title is required.</small>
            </div>
        </div>

        <!-- Description -->
        <div class="mb-3 form-floating">
            <textarea 
                id="description" 
                [(ngModel)]="model.description"
                #description="ngModel" 
                name="description" 
                class="form-control"
                [ngClass]="{'is-invalid': description?.errors?.['maxlength'] }"
                maxlength="140">
        </textarea>
            <label>Description:</label>
            <div *ngIf="description?.errors?.['maxlength']" class="text-white">
                <small *ngIf="description?.errors?.['maxlength']">Please shorten description to under 140 characters.</small>
            </div>
        </div>

        <!-- Tag -->
        <div class="mb-3 form-floating">
            <select id="tag" [(ngModel)]="model.tag" name="tag" class="form-control">
                <option [ngValue]="undefined">Select a tag (optional)</option> <!-- Optional tag -->
                <option *ngFor="let tag of tags" [ngValue]="tag">{{ tag }}</option>
            </select>
            <label for="tag">Tag:</label>
        </div>

            <!-- Date -->
            <div class="mb-3 form-floating">
                <input type="date" 
                        id="endDate" 
                        name="endDate" 
                        [(ngModel)]="model.endDate" 
                        appDateOnlyValidator
                        [min] ="today"
                        #endDate="ngModel"
                        class="form-control"
                        [ngClass]="{'is-invalid': endDate.invalid && endDate.touched}">
                <label for="endDate">End Date:</label>
                
                <div *ngIf="endDate.errors?.['invalidDateOnly']" class="invalid-feedback">
                    <small class="text-white">The selected date cannot be before today's date.</small> 
                </div>
            </div>
    </form>
</div>
